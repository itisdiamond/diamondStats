% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/function_diamond.R
\name{cor_influence_diamond}
\alias{cor_influence_diamond}
\title{Influence Analysis on Correlation Coefficient}
\usage{
cor_influence_diamond(
  x,
  y,
  method = "pearson",
  digits = 4,
  improve = NULL,
  worsen = NULL,
  plot = FALSE,
  threshold = 0.01,
  subset = NULL
)
}
\arguments{
\item{x}{A numeric vector.}

\item{y}{A numeric vector of the same length as \code{x}.}

\item{method}{The correlation method to use: \code{"pearson"}, \code{"spearman"}, or \code{"kendall"}.}

\item{digits}{Number of decimal places to round the output.}

\item{improve}{Optional integer. Number of points to show that most increase the correlation.}

\item{worsen}{Optional integer. Number of points to show that most decrease the correlation.}

\item{plot}{Logical. If \code{TRUE}, generates a scatterplot highlighting influential points.}

\item{threshold}{Numeric. Minimum correlation change to consider as influential (default = 0.01).}

\item{subset}{Optional logical vector for subsetting \code{x} and \code{y} before analysis.}
}
\value{
A data frame with the leave-one-out correlation, its change from the full sample,
and whether each point increases, decreases, or does not affect correlation meaningfully.
The return includes an attribute \code{"global_correlation"} with the original correlation value.
}
\description{
Evaluates how each observation affects the overall correlation coefficient (Pearson, Spearman, or Kendall)
using a leave-one-out approach. Optionally highlights points that most increase or decrease the correlation.
}
\examples{
set.seed(123)
x <- rnorm(30)
y <- x + rnorm(30, sd = 0.3)
cor_influence_diamond(x, y, method = "pearson", improve = 2, worsen = 2, plot = TRUE)

}
